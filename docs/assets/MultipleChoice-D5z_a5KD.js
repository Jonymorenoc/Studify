import{j as s}from"./index-CRs1o41v.js";import{r as n}from"./react-Disfgg3A.js";import{s as y}from"./progress-BBVrwzPV.js";function w({id:c,prompt:d,options:o,onDone:m,hint:l}){const[r,x]=n.useState(),[t,u]=n.useState(!1),b=o.find(e=>e.correct)?.id,i=r&&r===b?1:0,p=()=>{if(!r)return;const e=i?3:1;u(!0),y(c,{score:i,stars:e,attempts:1,completedAt:Date.now()}),m?.(i)};return s.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-white/5 px-5 py-5 shadow-inner",children:[s.jsx("p",{className:"text-sm text-slate-200",children:d}),s.jsx("div",{className:"space-y-3",children:o.map(e=>{const a=r===e.id,h=t&&e.correct,f=t&&a&&!e.correct;return s.jsxs("label",{className:`flex cursor-pointer items-center gap-3 rounded-2xl border px-4 py-3 text-sm transition ${h?"border-success/60 bg-success/10 text-success":f?"border-error/60 bg-error/10 text-error":a?"border-primary/60 bg-primary/15 text-primary":"border-white/10 bg-white/5 text-slate-100 hover:border-primary/40 hover:bg-primary/10"}`,children:[s.jsx("input",{type:"radio",name:c,value:e.id,checked:a,onChange:()=>x(e.id),disabled:t,className:"sr-only"}),s.jsx("span",{children:e.text}),e.hint&&!t&&s.jsx("span",{className:"text-xs text-muted",children:e.hint})]},e.id)})}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("button",{type:"button",onClick:p,disabled:t||!r,className:"inline-flex items-center justify-center rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white shadow-glow transition hover:bg-primary-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary disabled:cursor-not-allowed disabled:opacity-40",children:"Comprobar"}),t&&s.jsx("span",{className:`text-sm font-semibold ${i?"text-success":"text-error"}`,children:i?"Correcto!":"Revisa la pista y vuelve a intentarlo."})]}),!t&&l&&s.jsxs("p",{className:"text-xs text-slate-400",children:["Pista: ",l]})]})}export{w as M};

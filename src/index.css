@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  font-family: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: #f6f4ff;
}

body {
  margin: 0;
  min-height: 100vh;
  background:
    radial-gradient(circle at 10% -10%, rgba(243, 221, 255, 0.7), transparent 55%),
    radial-gradient(circle at 85% -15%, rgba(203, 228, 255, 0.6), transparent 60%),
    linear-gradient(180deg, #fcfbff 0%, #eef4ff 45%, #f8f3ff 100%);
  color: #433d66;
}

#root {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

@layer base {
  ::selection {
    background-color: rgba(127, 107, 255, 0.35);
    color: #1f1a3d;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply text-ink;
  }

  p {
    @apply text-sm text-muted;
  }
}

@layer components {
  .card {
    @apply rounded-3xl border border-primary/20 bg-surface px-6 py-6 shadow-[0_24px_45px_-24px_rgba(127,107,255,0.45)];
  }

  .row {
    @apply flex flex-wrap items-center gap-3;
  }

.btn {
  @apply inline-flex items-center justify-center rounded-full bg-gradient-to-r from-primary to-secondary px-5 py-2 text-sm font-semibold text-white shadow-[0_18px_35px_-18px_rgba(127,107,255,0.8)] transition hover:shadow-[0_18px_35px_-12px_rgba(127,107,255,0.9)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary disabled:cursor-not-allowed disabled:opacity-60;
}

.btn.secondary {
  @apply bg-none bg-primary/15 text-primary-dark border border-primary/40 shadow-[0_16px_32px_-26px_rgba(127,107,255,0.6)] hover:bg-primary/25 hover:text-primary-dark;
}

.btn.ghost {
  @apply bg-none text-primary border border-transparent hover:bg-primary/10;
}

.btn.hint {
  @apply inline-flex items-center gap-2 rounded-full border border-primary/40 bg-none bg-white/90 px-3 py-1.5 text-xs font-semibold text-primary shadow-[0_10px_26px_-18px_rgba(127,107,255,0.6)] transition hover:bg-primary/15 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary;
}

.tag {
  @apply inline-flex items-center gap-2 rounded-full bg-surface-soft px-3 py-1 text-xs font-semibold uppercase tracking-widest text-muted;
}

  .chip {
    @apply inline-flex items-center rounded-full border border-primary/10 bg-white px-3 py-1 text-sm text-ink transition hover:bg-primary/10;
  }

  .chip.active {
    @apply border-primary bg-primary/15 text-primary font-semibold;
  }

  .title {
    @apply text-lg font-semibold text-ink;
  }

  .subtitle {
    @apply text-sm text-muted;
  }

  .locked {
    @apply opacity-50;
  }
}

@keyframes floaty {
  0% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-12px) rotate(4deg);
  }
  100% {
    transform: translateY(0) rotate(0deg);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.floating-emoji {
  position: absolute;
  display: inline-flex;
  animation: floaty 6s ease-in-out infinite;
  filter: drop-shadow(0 8px 18px rgba(116, 95, 224, 0.25));
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}

.animation-delay-200 {
  animation-delay: 0.2s;
}

.animation-delay-400 {
  animation-delay: 0.4s;
}

.animation-delay-600 {
  animation-delay: 0.6s;
}

.animation-delay-800 {
  animation-delay: 0.8s;
}

.animation-delay-1000 {
  animation-delay: 1s;
}

/* Mobile-first safe area for iOS devices */
@supports (padding: max(0px)) {
  .pb-safe {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}

.hint-popover {
  @apply rounded-2xl border border-primary/30 bg-white/95 p-4 text-sm text-ink shadow-[0_26px_60px_-40px_rgba(116,95,224,0.7)];
}

.hint-popover__header {
  @apply mb-2 inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-primary;
}

.hint-popover__actions {
  @apply mt-3 flex items-center justify-end;
}
